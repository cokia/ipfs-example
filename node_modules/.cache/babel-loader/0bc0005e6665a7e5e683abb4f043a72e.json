{"ast":null,"code":"/**\n * Debugging support for web applications.\n *\n * @author David I. Lehn <dlehn@digitalbazaar.com>\n *\n * Copyright 2008-2013 Digital Bazaar, Inc.\n */\nvar forge = require('./forge');\n/* DEBUG API */\n\n\nmodule.exports = forge.debug = forge.debug || {}; // Private storage for debugging.\n// Useful to expose data that is otherwise unviewable behind closures.\n// NOTE: remember that this can hold references to data and cause leaks!\n// format is \"forge._debug.<modulename>.<dataname> = data\"\n// Example:\n// (function() {\n//   var cat = 'forge.test.Test'; // debugging category\n//   var sState = {...}; // local state\n//   forge.debug.set(cat, 'sState', sState);\n// })();\n\nforge.debug.storage = {};\n/**\n * Gets debug data. Omit name for all cat data  Omit name and cat for\n * all data.\n *\n * @param cat name of debugging category.\n * @param name name of data to get (optional).\n * @return object with requested debug data or undefined.\n */\n\nforge.debug.get = function (cat, name) {\n  var rval;\n\n  if (typeof cat === 'undefined') {\n    rval = forge.debug.storage;\n  } else if (cat in forge.debug.storage) {\n    if (typeof name === 'undefined') {\n      rval = forge.debug.storage[cat];\n    } else {\n      rval = forge.debug.storage[cat][name];\n    }\n  }\n\n  return rval;\n};\n/**\n * Sets debug data.\n *\n * @param cat name of debugging category.\n * @param name name of data to set.\n * @param data data to set.\n */\n\n\nforge.debug.set = function (cat, name, data) {\n  if (!(cat in forge.debug.storage)) {\n    forge.debug.storage[cat] = {};\n  }\n\n  forge.debug.storage[cat][name] = data;\n};\n/**\n * Clears debug data. Omit name for all cat data. Omit name and cat for\n * all data.\n *\n * @param cat name of debugging category.\n * @param name name of data to clear or omit to clear entire category.\n */\n\n\nforge.debug.clear = function (cat, name) {\n  if (typeof cat === 'undefined') {\n    forge.debug.storage = {};\n  } else if (cat in forge.debug.storage) {\n    if (typeof name === 'undefined') {\n      delete forge.debug.storage[cat];\n    } else {\n      delete forge.debug.storage[cat][name];\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"script"}