{"ast":null,"code":"'use strict';\n\nconst dagNodeUtil = require('./util');\n\nconst cloneLinks = dagNodeUtil.cloneLinks;\nconst cloneData = dagNodeUtil.cloneData;\n\nconst create = require('./create');\n\nfunction rmLink(dagNode, nameOrMultihash, callback) {\n  const data = cloneData(dagNode);\n  let links = cloneLinks(dagNode);\n\n  if (typeof nameOrMultihash === 'string') {\n    links = links.filter(link => link.name !== nameOrMultihash);\n  } else if (Buffer.isBuffer(nameOrMultihash)) {\n    links = links.filter(link => !link.multihash.equals(nameOrMultihash));\n  } else {\n    return callback(new Error('second arg needs to be a name or multihash'), null);\n  }\n\n  create(data, links, callback);\n}\n\nmodule.exports = rmLink;","map":null,"metadata":{},"sourceType":"script"}