(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1118:function(e,t,n){"use strict";n.r(t);n(465),n(466);var a=n(3),r=n.n(a),o=n(450),c=n.n(o),i=(n(471),n(451)),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function s(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(i.a,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");l?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):s(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):s(e)})}}()},404:function(e,t){},451:function(e,t,n){"use strict";(function(e){var a=n(53),r=n.n(a),o=n(126),c=n(452),i=n(453),l=n(461),s=n(454),u=n(462),f=n(1119),d=n(463),p=n(240),h=n(1120),m=n(3),v=n.n(m),w=(n(473),n(474),n(475),new(n(724))({host:"ipfs.infura.io",port:5001,protocol:"https"})),b=function(t){function n(){var t,a;Object(c.a)(this,n);for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return(a=Object(l.a)(this,(t=Object(s.a)(n)).call.apply(t,[this].concat(u)))).state={ipfsHash:null,buffer:"",transactionHash:"",txReceipt:"",filename:"",cid:""},a.captureFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return a.convertToBuffer(n)}},a.onCID=function(e){a.setState({cid:e.target.value})},a.convertToBuffer=function(){var t=Object(o.a)(r.a.mark(function t(n){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:o=t.sent,a.setState({buffer:o});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.onRefresh=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({blockNumber:"waiting.."}),a.setState({gasUsed:"waiting..."}),e.next=5,a.setState({blockNumber:a.state.txReceipt.blockNumber});case 5:return e.next=7,a.setState({gasUsed:a.state.txReceipt.gasUsed});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.onUpload=function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,w.add(a.state.buffer,function(e,t){console.log(e,t),a.setState({ipfsHash:t[0].hash})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onGet=function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(a.state.cid),w.get(a.state.cid,function(e,t){t.forEach(function(e){console.log(e.path),a.createAndDownloadBlobFile(e.content,a.state.cid)})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.createAndDownloadBlobFile=function(e,t){var n=new Blob([e]),a="".concat(t);if(navigator.msSaveBlob)navigator.msSaveBlob(n,a);else{var r=document.createElement("a");if(void 0!==r.download){var o=URL.createObjectURL(n);r.setAttribute("href",o),r.setAttribute("download",a),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}},a}return Object(u.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"App"},v.a.createElement("header",{className:"App-header"},v.a.createElement("h1",null," ETH + IPFS upload simple example dapp (ETHCON KOREA 2019)")),v.a.createElement("hr",null),v.a.createElement(f.a,null,v.a.createElement("h3",null,"upload file to IPFS"),v.a.createElement(d.a,{onSubmit:this.onUpload},v.a.createElement("input",{type:"file",onChange:this.captureFile}),v.a.createElement(p.a,{bsStyle:"primary",type:"submit"},"Send it")),v.a.createElement("hr",null),v.a.createElement(p.a,{class:"send",onClick:this.onRefresh}," refresh "),v.a.createElement(h.a,{bordered:!0,responsive:!0},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Transaction Data"),v.a.createElement("th",null,"Values"))),v.a.createElement("tbody",null,v.a.createElement("tr",null,v.a.createElement("td",null,"File Name"),v.a.createElement("td",null)),v.a.createElement("tr",null,v.a.createElement("td",null,"IPFS Hash"),v.a.createElement("td",null,this.state.ipfsHash)),v.a.createElement("tr",null,v.a.createElement("td",null,"ETH CONTRACT ADDR"),v.a.createElement("td",null,this.state.ethAddress)),v.a.createElement("tr",null,v.a.createElement("td",null,"Tx Hash"),v.a.createElement("td",null,this.state.transactionHash)))),"HASH",v.a.createElement(d.a,{onSubmit:this.onGet},v.a.createElement("input",{value:this.state.cid,onChange:this.onCID}),v.a.createElement(p.a,{bsStyle:"primary",type:"submit"},"Get it!")),v.a.createElement("hr",null)))}}]),n}(m.Component);t.a=b}).call(this,n(0).Buffer)},464:function(e,t,n){e.exports=n(1118)},471:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},475:function(e,t,n){"use strict";var a=n(455);new(new(n.n(a).a)(window.web3.currentProvider).eth.Contract)([{constant:!0,inputs:[],name:"getHash",outputs:[{name:"x",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"x",type:"string"}],name:"sendHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],"0xd4f91B126778BF4E8D933897085FA204BaDc127F")},484:function(e,t){},486:function(e,t){},573:function(e,t){},639:function(e,t){},744:function(e,t){},746:function(e,t){},764:function(e,t){},765:function(e,t){},781:function(e,t){},822:function(e,t){},824:function(e,t){},979:function(e,t){}},[[464,1,2]]]);
//# sourceMappingURL=main.a001f6d3.chunk.js.map